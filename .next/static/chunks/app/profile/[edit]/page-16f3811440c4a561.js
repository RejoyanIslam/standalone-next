(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8304],{3445:function(e,a,t){Promise.resolve().then(t.bind(t,5147))},3931:function(e,a,t){"use strict";t.d(a,{Al:function(){return c},DO:function(){return u},Gd:function(){return m},Kv:function(){return o},N$:function(){return l},OU:function(){return g},RJ:function(){return f},RZ:function(){return i},Zy:function(){return p},aT:function(){return h},kE:function(){return x},n$:function(){return d}});var r=t(1554),s=t(64),n=t(9222);let l=(0,s.hg)("auth/userRegister",async e=>{try{let a=await n.Z.post("".concat(r.Z,"/api/v1/auth/register"),e,{withCredentials:!0});return a.data}catch(e){throw Error(e.response.data.error.message)}}),d=(0,s.hg)("auth/userLogin",async e=>{let{router:a}=e;try{let t=await n.Z.post("".concat(r.Z,"/api/v1/auth/login"),{...e.data},{withCredentials:!0});return setTimeout(()=>{a.push("/profile")}),t.data}catch(e){throw Error(e.response.data.error.message)}}),o=(0,s.hg)("auth/userLogout",async()=>{try{let e=await n.Z.post("".concat(r.Z,"/api/v1/auth/logout"),{},{withCredentials:!0});return e.data}catch(e){throw Error(e.response.data.error.message)}}),i=(0,s.hg)("auth/loggedInUser",async()=>{try{let e=await n.Z.get("".concat(r.Z,"/api/v1/auth/me"),{withCredentials:!0});return e.data}catch(e){throw Error(e.response.data.error.message)}}),c=(0,s.hg)("auth/updateUserData",async e=>{try{let a=await n.Z.patch("".concat(r.Z,"/api/v1/users/").concat(e.id),e.data,{withCredentials:!0});return a.data}catch(e){throw Error(e.response.data.error.message)}}),u=(0,s.hg)("auth/updateUserPhoto",async e=>{let{userId:a}=Object.fromEntries(e);try{let t=await n.Z.patch("".concat(r.Z,"/api/v1/users/").concat(a),e,{withCredentials:!0});return t.data}catch(e){throw Error(e.response.data.error.message)}}),p=(0,s.hg)("auth/updateUserPassword",async e=>{try{let a=await n.Z.patch("".concat(r.Z,"/api/v1/users/password-update"),e,{withCredentials:!0});return a.data}catch(e){throw Error(e.response.data.error.message)}}),x=(0,s.hg)("auth/sendActiveCode",async e=>{try{let a=await n.Z.post("".concat(r.Z,"/api/v1/auth/resend-active-code"),e,{withCredentials:!0});return a.data}catch(e){throw Error(e.response.data.error.message)}}),m=(0,s.hg)("auth/activeAccount",async e=>{try{let a=await n.Z.post("".concat(r.Z,"/api/v1/auth/activate"),e,{withCredentials:!0});return a.data}catch(e){throw Error(e.response.data.error.message)}}),h=(0,s.hg)("auth/findAccount",async e=>{try{let a=await n.Z.post("".concat(r.Z,"/api/v1/auth/find-account"),e,{withCredentials:!0});return a.data}catch(e){throw Error(e.response.data.error.message)}}),f=(0,s.hg)("auth/passwordResetCodeSend",async e=>{try{let a=await n.Z.post("".concat(r.Z,"/api/v1/auth/password-reset-code"),e,{withCredentials:!0});return a.data}catch(e){throw Error(e.response.data.error.message)}}),g=(0,s.hg)("auth/passwordReset",async e=>{console.log(e);try{let a=await n.Z.post("".concat(r.Z,"/api/v1/auth/password-reset"),e,{withCredentials:!0});return a.data}catch(e){throw Error(e.response.data.error.message)}})},1210:function(e,a,t){"use strict";t.d(a,{Eo:function(){return o},nr:function(){return d}});var r=t(64),s=t(3931),n=t(7713);let l=(0,r.oM)({name:"auth",initialState:{user:null,error:null,message:null},reducers:{setMessageEmpty:e=>{e.message=null,e.error=null}},extraReducers:e=>{e.addCase(s.N$.rejected,(e,a)=>{e.error=a.error.message}).addCase(s.N$.fulfilled,(e,a)=>{e.message=a.payload.message}).addCase(s.n$.rejected,(e,a)=>{e.error=a.error.message}).addCase(s.n$.fulfilled,(e,a)=>{e.user=a.payload.data,e.message=a.payload.message,(0,n.setCookie)("token",a.payload.data.accessToken,{secure:!0,sameSite:"none"}),localStorage.setItem("user",JSON.stringify(a.payload.data))}).addCase(s.Kv.rejected,(e,a)=>{e.error=a.error.message}).addCase(s.Kv.fulfilled,(e,a)=>{e.user=null,e.message=a.payload.message,localStorage.removeItem("user"),(0,n.deleteCookie)("token",{secure:!0,sameSite:"none"})}).addCase(s.RZ.rejected,e=>{e.user=null}).addCase(s.RZ.fulfilled,(e,a)=>{e.user=a.payload.data,localStorage.setItem("user",JSON.stringify(a.payload.data))}).addCase(s.Al.rejected,(e,a)=>{e.error=a.error.message}).addCase(s.Al.fulfilled,(e,a)=>{e.user=a.payload.data,e.message=a.payload.message,localStorage.setItem("user",JSON.stringify(a.payload.data))}).addCase(s.DO.rejected,e=>{e.error="Something went wrong!."}).addCase(s.DO.fulfilled,(e,a)=>{e.user=a.payload.data,e.message="Photo updated successfully!",localStorage.setItem("user",JSON.stringify(a.payload.data))}).addCase(s.Zy.rejected,e=>{e.error="Something went wrong!."}).addCase(s.Zy.fulfilled,(e,a)=>{e.user=a.payload.data,e.message=a.payload.message}).addCase(s.kE.rejected,e=>{e.error="Something went wrong to send active code in your email!."}).addCase(s.kE.fulfilled,(e,a)=>{e.message=a.payload.message}).addCase(s.Gd.rejected,(e,a)=>{e.error=a.error.message}).addCase(s.Gd.fulfilled,(e,a)=>{e.message=a.payload.message}).addCase(s.aT.rejected,(e,a)=>{e.error=a.error.message}).addCase(s.aT.fulfilled,e=>{e.message="User found!"}).addCase(s.RJ.rejected,(e,a)=>{e.error=a.error.message}).addCase(s.RJ.fulfilled,(e,a)=>{e.message=a.payload.message}).addCase(s.OU.rejected,(e,a)=>{e.error=a.error.message}).addCase(s.OU.fulfilled,(e,a)=>{e.message=a.payload.message})}}),d=e=>e.auth,{setMessageEmpty:o}=l.actions;a.ZP=l.reducer},5147:function(e,a,t){"use strict";t.r(a);var r=t(7437),s=t(3931),n=t(1210),l=t(1396),d=t.n(l),o=t(4033),i=t(2265),c=t(3198),u=t(171);a.default=()=>{var e,a,t,l,p,x,m,h,f,g,b;let{user:v,message:y,error:w}=(0,c.v9)(n.nr),k=(0,o.useRouter)(),j=(0,c.I0)(),[N,C]=(0,i.useState)({name:null==v?void 0:v.name,email:null==v?void 0:v.email,gender:null==v?void 0:v.gender,location:null==v?void 0:v.location,mobile:null==v?void 0:v.mobile,age:null==v?void 0:v.age,"identity.sustian.department":null==v?void 0:null===(a=v.identity)||void 0===a?void 0:null===(e=a.sustian)||void 0===e?void 0:e.department,"identity.sustian.session":null==v?void 0:null===(l=v.identity)||void 0===l?void 0:null===(t=l.sustian)||void 0===t?void 0:t.session,"identity.nonSustian.profession":null==v?void 0:null===(x=v.identity)||void 0===x?void 0:null===(p=x.nonSustian)||void 0===p?void 0:p.profession,"identity.nonSustian.organization":null==v?void 0:null===(h=v.identity)||void 0===h?void 0:null===(m=h.nonSustian)||void 0===m?void 0:m.organization,"social_media.fb":null==v?void 0:null===(f=v.social_media)||void 0===f?void 0:f.fb,"social_media.instagram":null==v?void 0:null===(g=v.social_media)||void 0===g?void 0:g.instagram,"social_media.linkedIn":null==v?void 0:null===(b=v.social_media)||void 0===b?void 0:b.linkedIn,blood_group:null==v?void 0:v.blood_group,feedback:null==v?void 0:v.feedback}),z=async e=>{e.preventDefault();let a={};for(let e in N)void 0!==N[e]&&(a[e]=N[e]);j((0,s.Al)({data:{...a},id:null==v?void 0:v._id}))},S=e=>{C(a=>({...a,[e.target.name]:e.target.value}))},[Z,E]=(0,i.useState)("select"),_=e=>{"sustian"===e?E("sustian"):"nonSustian"===e?E("nonSustian"):E("select")};return(0,i.useEffect)(()=>{y&&u.Am.success("Profile Updated Successfully")&&k.push("/profile"),w&&u.Am.error(w),j((0,n.Eo)())},[y,w,j,k]),(0,r.jsxs)("section",{className:"   bg-white  py-10 theme-dark px-5 text-left",children:[(0,r.jsx)("div",{className:"max-w-[470px] mx-auto mb-4 flex",children:(0,r.jsxs)(d(),{href:"/profile",className:"z-10 py-2 px-4 bg-blue-500 dark:bg-violet-600 rounded-[4px] text-white font-semibold",children:["BACK"," "]})}),(0,r.jsxs)("div",{className:"max-w-[470px] bg-[#eceff1] mx-auto dark:bg-[#172944] text-black dark:text-[#b5cedc]  rounded-md shadow-md p-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"font-bold text-center text-xl",children:"Update Profile Data"})}),(0,r.jsxs)("form",{onSubmit:z,children:[(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Full Name "}),(0,r.jsx)("input",{type:"text",value:null==N?void 0:N.name,name:"name",onChange:S,className:"z-10 border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] bg-white dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4"})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsxs)("label",{className:"text-[17px] font-semibold text-[17px]",children:["Email Address"," "]}),(0,r.jsx)("input",{type:"text",value:null==N?void 0:N.email,disabled:!0,name:"email",onChange:S,className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 "})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Mobile Number "})," ",(0,r.jsx)("input",{type:"text",name:"mobile",value:null==N?void 0:N.mobile,onChange:S,className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 ",placeholder:"+8801xxxxxxx"})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Age "}),(0,r.jsx)("input",{type:"text",name:"age",value:N.age,onChange:S,className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 "})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Identity "}),(0,r.jsxs)("select",{name:"",id:"",onChange:e=>{_(e.target.value)},className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 ",children:[(0,r.jsx)("option",{value:"select",selected:(null==N?void 0:N.identity)==="select",children:"--Select--"}),(0,r.jsx)("option",{value:"sustian",selected:(null==N?void 0:N.identity)==="sustian",children:"SUSTian"}),(0,r.jsx)("option",{value:"nonSustian",selected:(null==N?void 0:N.identity)==="nonSustian",children:"Non-SUSTian"})]})]}),"sustian"===Z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Department "}),(0,r.jsx)("input",{type:"text",name:"identity.sustian.department",value:null==N?void 0:N["identity.sustian.department"],onChange:S,className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 ",placeholder:"Example: EEE"})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Session "}),(0,r.jsx)("input",{type:"text",name:"identity.sustian.session",value:null==N?void 0:N["identity.sustian.session"],onChange:S,className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 ",placeholder:"example: 2019-2020"})]})]}),"nonSustian"===Z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Profession "}),(0,r.jsx)("input",{type:"text",name:"identity.nonSustian.profession",value:null==N?void 0:N["identity.nonSustian.profession"],onChange:S,className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 "})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsxs)("label",{className:"text-[17px] font-semibold",children:["Organization"," "]}),(0,r.jsx)("input",{type:"text",name:"identity.nonSustian.organization",value:null==N?void 0:N["identity.nonSustian.organization"],onChange:S,className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 "})]})," "]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsxs)("label",{className:"text-[17px] font-semibold",children:["Present Address"," "]})," ",(0,r.jsx)("br",{}),(0,r.jsx)("input",{type:"text",onChange:S,name:"location",value:null==N?void 0:N.location,className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 "})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col ",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Facebook URL "})," ",(0,r.jsx)("input",{type:"url",onChange:S,name:"social_media.fb",value:null==N?void 0:N["social_media.fb"],className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 ",placeholder:"https://www.facebook.com/name/"})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Instagram URL "})," ",(0,r.jsx)("br",{}),(0,r.jsx)("input",{type:"url",onChange:S,name:"social_media.instagram",value:null==N?void 0:N["social_media.instagram"],className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 ",placeholder:"https://www.instagram.com/name/"})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"LinkedIn URL "})," ",(0,r.jsx)("br",{}),(0,r.jsx)("input",{type:"url",onChange:S,name:"social_media.linkedIn",value:null==N?void 0:N["social_media.linkedIn"],className:"z-10 bg-white   border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 ",placeholder:"https://www.linkedin.com/in/name/"})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsx)("label",{className:"text-[17px] font-semibold",children:"Blood Group "})," ",(0,r.jsxs)("select",{name:"blood_group",id:"",className:"z-10 bg-white  border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040]  dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4",value:null==N?void 0:N.blood_group,onChange:S,children:[(0,r.jsx)("option",{className:"dark:bg-[#00000040] dark:text-white",selected:!(null==N?void 0:N.group),value:null,children:"--select--"}),(0,r.jsx)("option",{value:"A+",className:"dark:bg-[#00000040] dark:text-white",selected:(null==N?void 0:N.group)&&!0,children:"A+"}),(0,r.jsx)("option",{value:"A-",selected:(null==N?void 0:N.group)&&!0,children:"A-"}),(0,r.jsx)("option",{value:"B+",selected:(null==N?void 0:N.group)&&!0,children:"B+"}),(0,r.jsx)("option",{value:"B-",selected:(null==N?void 0:N.group)&&!0,children:"B-"}),(0,r.jsx)("option",{value:"AB+",selected:(null==N?void 0:N.group)&&!0,children:"AB+"}),(0,r.jsx)("option",{value:"AB-",selected:(null==N?void 0:N.group)&&!0,children:"AB-"}),(0,r.jsx)("option",{value:"O+",selected:(null==N?void 0:N.group)&&!0,children:"O+"}),(0,r.jsx)("option",{value:"O-",selected:(null==N?void 0:N.group)&&!0,children:"O-"})]})]}),(0,r.jsxs)("div",{className:"my-2 space-y-1 flex flex-col",children:[(0,r.jsxs)("label",{className:"text-[17px] font-semibold",children:["Give Feedback about KIN"," "]}),(0,r.jsx)("textarea",{onChange:S,name:"feedback",value:null==N?void 0:N.feedback,className:"z-10 bg-white border dark:border-zinc-700 rounded-md text-[17px] py-[10px] w-full dark:bg-[#00000040] dark:text-white dark:focus:outline-none dark:focus:border-zinc-700 px-4 "})]}),(0,r.jsx)("div",{className:"mt-6 flex ",children:(0,r.jsx)("button",{type:"submit",value:"SUBMIT",className:"z-10 bg-blue-500 dark:bg-violet-600 py-2 px-4 rounded-md w-full text-[17px] font-semibold text-white ",children:"UPDATE"})})]})]})]})}},1554:function(e,a,t){"use strict";t.d(a,{B:function(){return r}}),a.Z="https://kin-api.onrender.com";let r="https://www.kinsust.org"},2706:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"RouterContext",{enumerable:!0,get:function(){return n}});let r=t(1024),s=r._(t(2265)),n=s.default.createContext(null)},1396:function(e,a,t){e.exports=t(6685)}},function(e){e.O(0,[3306,6566,6685,8427,2971,596,1744],function(){return e(e.s=3445)}),_N_E=e.O()}]);